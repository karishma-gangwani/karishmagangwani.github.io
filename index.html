<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karishma Gangwani</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo" onclick="window.location.hash=''; showPage('home');">Karishma Gangwani</div>
            <div class="nav-links">
                <a href="#" onclick="showPage('science-communication')" class="nav-link">Science Communication</a>
                <a href="#" onclick="showPage('art-stories')" class="nav-link">Art & Stories</a>
                <a href="#" onclick="showPage('academic-research')" class="nav-link">Academic Research</a>
                <a href="#" onclick="showPage('community-engagement')" class="nav-link">Community Engagement</a>
                <a href="#" onclick="showPage('educational-videos')" class="nav-link">Educational Videos</a>
                <a href="#" onclick="showPage('certifications')" class="nav-link">Certifications</a>
                <a href="#" onclick="showPage('contact')" class="nav-link">Contact Me</a>
                <div class="search-container">
                    <input type="text" class="search-input" id="searchInput" placeholder="Search...">
                    <svg class="search-icon" id="searchIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="M21 21l-4.35-4.35"></path>
                    </svg>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <div id="home" class="page active">
            <section class="profile-section">
                <img src="KGprof.jpg" alt="Karishma Gangwani" class="profile-image">
                <p class="tagline">Scientist by training, storyteller by passion</p>
            </section>

            <section class="about-section">
                <h2>Who Am I</h2>
                <p>I bridge the gap between complex scientific, medical data and meaningful human connections. My unique blend of scientific expertise and communication skills allows me to transform intricate science into compelling narratives that resonate with a broad audience of all ages.</p>
            </section>
        </div>

        <div id="science-communication" class="page">
            <div class="page-header">
                <h1>Science Communication</h1>
                <p>Transforming complex scientific concepts into engaging narratives that inspire and educate audiences of all backgrounds.</p>
            </div>

            <section class="featured-posts-section">
                <h2>Featured Posts</h2>
                <div class="featured-posts-grid" id="featuredPostsGrid">
                    </div>
            </section>

            <section class="tags-section">
                <h2>Explore by Topic</h2>
                <div class="tags-container" id="tagsContainer">
                    </div>
            </section>

            <div class="blog-grid" id="scienceCommGrid">
                </div>
        </div>

        <div id="art-stories" class="page">
            <div class="page-header">
                <h1>Art & Stories</h1>
                <p>Coming soon...</p>
            </div>
        </div>

        <div id="academic-research" class="page">
            <div class="page-header">
                <h1>Academic Research</h1>
                <p>Coming soon...</p>
            </div>
        </div>

        <div id="community-engagement" class="page">
            <div class="page-header">
                <h1>Community Engagement</h1>
                <p>Coming soon...</p>
            </div>
        </div>

        <div id="educational-videos" class="page">
            <div class="page-header">
                <h1>Educational Videos</h1>
                <p>Coming soon...</p>
            </div>
        </div>

        <div id="certifications" class="page">
            <div class="page-header">
                <h1>Certifications</h1>
                <p>Coming soon...</p>
            </div>
        </div>

        <div id="contact" class="page">
            <div class="page-header">
                <h1>Contact Me</h1>
                <p>Coming soon...</p>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="social-links">
                <a href="https://www.youtube.com/@karishmagangwani1951" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                    </svg>
                </a>
                <a href="https://www.linkedin.com/in/karishma-sanjay-gangwani/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                    </svg>
                </a>
                <a href="https://karishmagangwani.substack.com/" target="_blank" rel="noopener noreferrer" aria-label="Substack">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M22.539 8.242H1.46V5.406h21.08v2.836zM1.46 10.812V24L12 18.11 22.54 24V10.812H1.46zM22.54 0H1.46v2.836h21.08V0z"/>
                    </svg>
                </a>
                <a href="https://github.com/karishma-gangwani" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                </a>
                <a href="https://x.com/Karishma07Gangs" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                    </svg>
                </a>
            </div>
            <a href="#contact" onclick="showPage('contact'); return false;" class="contact-button">CONTACT</a>
        </div>
    </footer>

    <script>
        // Simple page navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Show selected page
            const selectedPage = document.getElementById(pageId);
            if (selectedPage) {
                selectedPage.classList.add('active');
                // If it's the science communication page, render its content
                if (pageId === 'science-communication') {
                    renderScienceCommunicationContent();
                }
            }

            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                // Check if the link href matches the current page
                const linkPageId = link.getAttribute('onclick').match(/'(.*?)'/)[1];
                if (linkPageId === pageId) {
                    link.classList.add('active');
                }
            });

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Handle hash changes (for browser back/forward and page refresh)
        function handleHashChange() {
            const hash = window.location.hash.slice(1);
            if (hash && document.getElementById(hash)) {
                showPage(hash);
            } else {
                showPage('home');
            }
        }

        // Initialize on page load
        window.addEventListener('DOMContentLoaded', handleHashChange);
        window.addEventListener('hashchange', handleHashChange);

        // Handle navigation clicks
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('nav-link')) {
                e.preventDefault();
                const pageId = e.target.getAttribute('onclick').match(/'(.*?)'/)[1];
                window.location.hash = pageId;
            }
        });

        // Search functionality
        const searchIcon = document.getElementById('searchIcon');
        const searchInput = document.getElementById('searchInput');
        let searchActive = false;

        // Define searchable content (removed Home from search)
        const searchableContent = [
            { title: 'Science Communication', pageId: 'science-communication', keywords: ['science', 'communication', 'blog', 'articles'] },
            { title: 'Art & Stories', pageId: 'art-stories', keywords: ['art', 'stories', 'creative', 'narrative'] },
            { title: 'Academic Research', pageId: 'academic-research', keywords: ['academic', 'research', 'papers', 'publications'] },
            { title: 'Community Engagement', pageId: 'community-engagement', keywords: ['community', 'engagement', 'outreach', 'public'] },
            { title: 'Educational Videos', pageId: 'educational-videos', keywords: ['education', 'videos', 'youtube', 'content'] },
            { title: 'Certifications', pageId: 'certifications', keywords: ['certifications', 'certificates', 'credentials'] },
            { title: 'Contact Me', pageId: 'contact', keywords: ['contact', 'email', 'reach', 'connect'] }
        ];

        searchIcon.addEventListener('click', function() {
            searchActive = !searchActive;
            searchInput.classList.toggle('active');
            searchIcon.classList.toggle('active');

            if (searchActive) {
                searchInput.focus();
            } else {
                searchInput.value = '';
            }
        });

        searchInput.addEventListener('blur', function() {
            setTimeout(() => {
                if (this.value === '') {
                    searchActive = false;
                    this.classList.remove('active');
                    searchIcon.classList.remove('active');
                }
            }, 200);
        });

        function performSearch(searchTerm) {
            const term = searchTerm.toLowerCase();
            const results = [];

            // Search predefined sections
            searchableContent.forEach(item => {
                if (item.title.toLowerCase().includes(term) ||
                    item.keywords.some(keyword => keyword.toLowerCase().includes(term))) {
                    results.push(item);
                }
            });

            // Also search within blog posts for "Science Communication" page
            scienceCommunicationPosts.forEach(post => {
                if (post.title.toLowerCase().includes(term) ||
                    post.excerpt.toLowerCase().includes(term) ||
                    post.tags.some(tag => tag.toLowerCase().includes(term))) {
                    // Check if the page is already in results, if not, add it
                    if (!results.some(r => r.pageId === 'science-communication')) {
                        results.push({ title: 'Science Communication', pageId: 'science-communication', keywords: ['science', 'communication', 'blog', 'articles'] });
                    }
                }
            });

            return results;
        }

        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const searchTerm = this.value.trim();
                if (searchTerm) {
                    const results = performSearch(searchTerm);

                    if (results.length > 0) {
                        window.location.hash = results[0].pageId;
                        // If the science communication page is the target, apply the search filter
                        if (results[0].pageId === 'science-communication') {
                            filterPostsBySearch(searchTerm);
                        }

                        this.value = '';
                        searchActive = false;
                        this.classList.remove('active');
                        searchIcon.classList.remove('active');

                        if (results.length > 1) {
                            console.log(`Found ${results.length} results. Showing: ${results[0].title}`);
                        }
                    } else {
                        alert(`No results found for "${searchTerm}"`);
                    }
                }
            }
        });

        // NEW: Science Communication Posts Data (move this to a separate .js file if it gets very large)
        const scienceCommunicationPosts = [
            {
                title: 'Smokeless Tobacco: A Comprehensive Review of Molecular Effects, Societal Perception, and Cessation Strategies',
                image: 'https://www.mdpi.com/biomed/biomed-04-00035/article_deploy/html/images/biomed-04-00035-g001.png',
                url: 'https://www.mdpi.com/2673-8430/4/4/35',
                excerpt: 'Tobacco, the age-old subject of misconceptions throughout society.',
                tags: ['public health', 'review', 'health education'],
                featured: true
            },
            {
                title: 'Drosophila Cancer Modeling Using the Eye Imaginal Discs',
                image: 'https://www.researchgate.net/publication/333355611/figure/fig3/AS:11431281246825422@1716470797247/Drosophila-cancer-models-A-Cartoon-showing-various-larval-organs-cells-in-which.tif',
                url: 'https://link.springer.com/chapter/10.1007/978-3-030-42246-2_9',
                excerpt: 'The emergence of preclinical Drosophila models to study cancer biology.',
                tags: ['research', 'genetics', 'cancer biology'],
                featured: true
            },
            {
                title: 'User guides for ProteinPaint tools',
                image: 'https://drive.google.com/thumbnail?id=1WxKgaLbw2Z0jtFsQiAY8GiYbDZ4L_GvW&sz=w1000',
                url: 'https://drive.google.com/file/d/1WxKgaLbw2Z0jtFsQiAY8GiYbDZ4L_GvW/view',
                excerpt: '', // Empty excerpt, can be added later
                tags: ['tools', 'bioinformatics'],
                featured: false
            },
            {
                title: 'Unraveling the Mysteries of Epigenetic Regulation: How Nematodes rewrite genetic rules',
                image: 'https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e46ea26-1936-43e0-84a9-58fe5f3c56be_1024x1024.png',
                url: 'https://karishmagangwani.substack.com/p/unraveling-the-mysteries-of-epigenetic',
                excerpt: 'How environmental or internal signals can reprogram gene expression without altering the DNA sequence.',
                tags: ['epigenetics', 'nematodes', 'genetics'],
                featured: true
            },
            {
                title: 'Ten simple rules for improving communication among scientists',
                image: 'https://journals.plos.org/ploscompbiol/article/figure/image?size=large&id=10.1371/journal.pcbi.1010130.g001',
                url: 'https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1010130',
                excerpt: 'Effective strategies for scientists to communicate research and build online communities.',
                tags: ['science communication', 'research skills'],
                featured: false
            },
            {
                title: 'P. pacificus\'s Epigenetic Toolkit is Missing an Important Tool',
                image: 'https://genestogenomes.org/wp-content/uploads/2024/08/ToolkitStrip.png',
                url: 'https://genestogenomes.org/p-pacificuss-epigenetic-toolkit-is-missing-an-important-tool/',
                excerpt: 'Surprising gaps in molecular mechanisms reveal evolutionary insights in nematode biology.',
                tags: ['epigenetics', 'nematodes', 'evolution'],
                featured: false
            },
            {
                title: 'How to avoid Overcommitting in grad school',
                image: 'https://ecrlife.org/content/images/2022/01/fig1_overcommitting-1.png',
                url: 'https://ecrlife.org/avoiding_overcommitment/',
                excerpt: 'Essential time management strategies for early-career researchers to maintain balance.',
                tags: ['career development', 'grad school', 'time management'],
                featured: false
            },
            {
                title: 'St. Jude Cloud Survivorship Portal offers a treasure trove of data for discovery in childhood cancers',
                image: 'https://stjude.scene7.com/is/image/stjude/survivorship-portal?wid=1600',
                url: 'https://www.stjude.org/research/progress/2023/st-jude-cloud-survivorship-portal-offers-a-treasure-trove-of-data-for-discovery-in-childhood-cancers.html',
                excerpt: 'Revolutionary platform transforms childhood cancer research through comprehensive data sharing.',
                tags: ['cancer research', 'data science', 'st. jude'],
                featured: false
            }
        ];

        // Function to create a blog card HTML element
        function createBlogCard(post) {
            const article = document.createElement('article');
            article.classList.add('blog-card');

            article.innerHTML = `
                <div class="blog-card-image" style="background-image: url('${post.image}');"></div>
                <div class="blog-card-content">
                    <h3 class="blog-card-title">
                        <a href="${post.url}" target="_blank" class="blog-card-link">
                            ${post.title}
                        </a>
                    </h3>
                    <p class="blog-card-excerpt">${post.excerpt}</p>
                </div>
            `;
            return article;
        }

        // Function to render all science communication posts
        function renderScienceCommunicationContent(filterTag = null, searchTerm = null) {
            const scienceCommGrid = document.getElementById('scienceCommGrid');
            const featuredPostsGrid = document.getElementById('featuredPostsGrid');
            const tagsContainer = document.getElementById('tagsContainer');

            // Clear existing content
            scienceCommGrid.innerHTML = '';
            featuredPostsGrid.innerHTML = '';
            tagsContainer.innerHTML = '';

            // Render Featured Posts
            const featuredPosts = scienceCommunicationPosts.filter(post => post.featured);
            featuredPosts.forEach(post => {
                featuredPostsGrid.appendChild(createBlogCard(post));
            });

            // Collect and render unique tags
            const allTags = new Set();
            scienceCommunicationPosts.forEach(post => {
                post.tags.forEach(tag => allTags.add(tag));
            });

            const sortedTags = Array.from(allTags).sort(); // Sort tags alphabetically
            sortedTags.forEach(tag => {
                const tagSpan = document.createElement('span');
                tagSpan.classList.add('tag');
                tagSpan.textContent = tag;
                tagSpan.addEventListener('click', () => filterPostsByTag(tag));
                tagsContainer.appendChild(tagSpan);
            });

            // Filter posts based on active tag or search term
            let filteredPosts = scienceCommunicationPosts;

            if (filterTag) {
                filteredPosts = filteredPosts.filter(post => post.tags.includes(filterTag));
                // Highlight the active tag
                document.querySelectorAll('.tag').forEach(tagEl => {
                    if (tagEl.textContent === filterTag) {
                        tagEl.classList.add('active-tag');
                    } else {
                        tagEl.classList.remove('active-tag');
                    }
                });
            } else {
                // Clear active tag if no filterTag is provided
                document.querySelectorAll('.tag').forEach(tagEl => {
                    tagEl.classList.remove('active-tag');
                });
            }

            if (searchTerm) {
                const term = searchTerm.toLowerCase();
                filteredPosts = filteredPosts.filter(post =>
                    post.title.toLowerCase().includes(term) ||
                    post.excerpt.toLowerCase().includes(term) ||
                    post.tags.some(tag => tag.toLowerCase().includes(term))
                );
            }

            // Render filtered posts
            filteredPosts.forEach(post => {
                scienceCommGrid.appendChild(createBlogCard(post));
            });

            // Show a message if no posts are found
            if (filteredPosts.length === 0) {
                const noResults = document.createElement('p');
                noResults.textContent = 'No posts found matching your criteria.';
                noResults.style.textAlign = 'center';
                noResults.style.marginTop = '2rem';
                scienceCommGrid.appendChild(noResults);
            }
        }

        // Function to filter posts by tag
        function filterPostsByTag(tag) {
            renderScienceCommunicationContent(tag);
        }

        // Function to filter posts by search term
        function filterPostsBySearch(term) {
            renderScienceCommunicationContent(null, term);
        }


        // Override showPage for Science Communication to render content
        const originalShowPage = showPage;
        showPage = function(pageId) {
            originalShowPage(pageId); // Call the original function first
            if (pageId === 'science-communication') {
                renderScienceCommunicationContent();
            }
        };

        // Initial render when the page loads (if science-communication is the initial hash)
        document.addEventListener('DOMContentLoaded', () => {
            const hash = window.location.hash.slice(1);
            if (hash === 'science-communication') {
                renderScienceCommunicationContent();
            }
        });

    </script>
</body>
</html>